!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,n){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(i),appendDots:e(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(i),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=e(i).data("slick")||{},r.options=e.extend({},r.defaults,n,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.instanceUid=t++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):!0===n?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),!1===o.options.vertical?n[o.animType]="translate3d("+t+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(!0===n.options.dots){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,o,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var u=e*s+(t*a.options.slidesPerRow+i);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,o,r,s=this,a=!1,l=s.$slider.width(),c=window.innerWidth||e(window).width();if("window"===s.respondTo?r=c:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){o=null;for(n in s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[n]&&(o=s.breakpoints[n]):r>s.breakpoints[n]&&(o=s.breakpoints[n]));null!==o?null!==s.activeBreakpoint?(o!==s.activeBreakpoint||i)&&(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[o]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=o):(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[o]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t),a=o),t||!1===a||s.$slider.trigger("breakpoint",[s,a])}},t.prototype.changeSlide=function(t,i){var n,o,r,s=this,a=e(t.currentTarget);switch(a.is("a")&&t.preventDefault(),a.is("li")||(a=a.closest("li")),r=s.slideCount%s.options.slidesToScroll!=0,n=r?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,t.data.message){case"previous":o=0===n?s.options.slidesToScroll:s.options.slidesToShow-n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-o,!1,i);break;case"next":o=0===n?s.options.slidesToScroll:n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||a.index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i;if(t=this.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,i,n,o,r=this,s=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),s=i*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,s=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,s=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,s=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+s,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);i<e;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(o,r){if(r.offsetLeft-i+e(r).outerWidth()/2>-1*n.swipeLeft)return t=r,!1}),Math.abs(e(t).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this,i=Math.ceil(t.slideCount/t.options.slidesToShow),n=t.getNavigableIndexes().filter(function(e){return e>=0&&e<t.slideCount});t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){var o=n.indexOf(i);e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+i,tabindex:-1}),-1!==o&&e(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+o})}),t.$dots.attr("role","tablist").find("li").each(function(o){var r=n[o];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+o,"aria-controls":"slick-slide"+t.instanceUid+r,"aria-label":o+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=t.currentSlide,r=o+t.options.slidesToShow;o<r;o++)t.$slides.eq(o).attr("tabindex",0);t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=e(this).attr("data-srcset"),o=e(this).attr("data-sizes")||r.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){n&&(t.attr("srcset",n),o&&t.attr("sizes",o)),t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,t,i])})},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,i])},s.src=i})}var i,n,o,r=this;if(!0===r.options.centerMode?!0===r.options.infinite?o=(n=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(n=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),o=r.options.slidesToShow/2+1+2+r.currentSlide):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,o=Math.ceil(n+r.options.slidesToShow),!0===r.options.fade&&(n>0&&n--,o<=r.slideCount&&o++)),i=r.$slider.find(".slick-slide").slice(n,o),"anticipated"===r.options.lazyLoad)for(var s=n-1,a=o,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)s<0&&(s=r.slideCount-1),i=(i=i.add(l.eq(s))).add(l.eq(a)),s--,a++;t(i),r.slideCount<=r.options.slidesToShow?t(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?t(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&t(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,t]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&e(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,n,o,r,s,a=this,l=e("img[data-lazy]",a.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),o=i.attr("data-srcset"),r=i.attr("data-sizes")||a.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){o&&(i.attr("srcset",o),r&&i.attr("sizes",r)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,i,n]),a.progressiveLazyLoad()},s.onerror=function(){t<3?setTimeout(function(){a.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,i,n]),a.progressiveLazyLoad())},s.src=n):a.$slider.trigger("allImagesLoaded",[a])},t.prototype.refresh=function(t){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:i}),o.init(),t||o.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,o=this,r=o.options.responsive||null;if("array"===e.type(r)&&r.length){o.respondTo=o.options.respondTo||"window";for(t in r)if(n=o.breakpoints.length-1,r.hasOwnProperty(t)){for(i=r[t].breakpoint;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=r[t].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},t.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=i.slideWidth*n*-1,!0===i.options.rtl?e(o).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,o,r,s=this,a=!1;if("object"===e.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],o=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)s.options[n]=o;else if("multiple"===r)e.each(n,function(e,t){s.options[e]=t});else if("responsive"===r)for(i in o)if("array"!==e.type(s.options.responsive))s.options.responsive=[o[i]];else{for(t=s.options.responsive.length-1;t>=0;)s.options.responsive[t].breakpoint===o[i].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(o[i])}a&&(s.unload(),s.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,n,o,r=this;if(i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var s=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t+s,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+e,i.slice(n-t+1+s,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<n+o.slideCount;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));o||(o=0),i.slideCount<=i.options.slidesToShow?i.slideHandler(o,!1,!0):i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var n,o,r,s,a,l=null,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),n=e,l=c.getLeft(n),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=(a=c.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(r),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight();!0!==i?c.animateSlide(l,function(){c.postSlide(o)}):c.postSlide(o)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===o.options.rtl?"left":"right":n<=360&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,r,s,a=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&s>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),i=a.swipeDirection(),void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,e.preventDefault()),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+n*o:a.swipeLeft=t+n*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=t+n*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},t.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),s=n.length;for(e=0;e<s;e++)if("object"==typeof o||void 0===o?n[e].slick=new t(n[e],o):i=n[e].slick[o].apply(n[e].slick,r),void 0!==i)return i;return n}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,i,n,o,r,s,a="Close",l="BeforeClose",c="AfterClose",u="BeforeAppend",p="MarkupParse",d="Open",f="Change",h="mfp",v="."+h,m="mfp-ready",y="mfp-removing",g="mfp-prevent-close",k=function(){},w=!!window.jQuery,b=e(window),T=function(e,i){t.ev.on(h+e+v,i)},x=function(t,i,n,o){var r=document.createElement("div");return r.className="mfp-"+t,n&&(r.innerHTML=n),o?i&&i.appendChild(r):(r=e(r),i&&r.appendTo(i)),r},S=function(i,n){t.ev.triggerHandler(h+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},E=function(i){return i===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=i),t.currTemplate.closeBtn},C=function(){e.magnificPopup.instance||(t=new k,t.init(),e.magnificPopup.instance=t)},O=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};k.prototype={constructor:k,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=O(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=e(document),t.popupsCache={}},open:function(i){var o;if(!1===i.isObj){t.items=i.items.toArray(),t.index=0;var s,a=i.items;for(o=0;o<a.length;o++)if(s=a[o],s.parsed&&(s=s.el[0]),s===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],r="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=n,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=x("bg").on("click"+v,function(){t.close()}),t.wrap=x("wrap").attr("tabindex",-1).on("click"+v,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=x("container",t.wrap)),t.contentContainer=x("content"),t.st.preloader&&(t.preloader=x("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var c=l[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}S("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(T(p,function(e,t,i,n){i.close_replaceWith=E(n.type)}),r+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:b.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:n.height(),position:"absolute"}),t.st.enableEscapeKey&&n.on("keyup"+v,function(e){27===e.keyCode&&t.close()}),b.on("resize"+v,function(){t.updateSize()}),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var u=t.wH=b.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(u)){var h=t._getScrollbarSize();h&&(f.marginRight=h)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),S("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(m),t._setFocus()):t.bgOverlay.addClass(m),n.on("focusin"+v,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),S(d),i},close:function(){t.isOpen&&(S(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){S(a);var i=y+" "+m+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}n.off("keyup"+v+" focusin"+v),t.ev.off(v),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,S(c)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||b.height();t.fixedContentPos||t.wrap.css("height",t.wH),S("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(S("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var r=!!t.st[n]&&t.st[n].markup;S("FirstMarkupParse",r),t.currTemplate[n]=!r||e(r)}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(s,n),i.preloaded=!0,S(f,i),o=i.type,t.container.prepend(t.contentContainer),S("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",S(u),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,o=t.items[i];if(o.tagName?o={el:e(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){n=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||t.st.type||"inline",o.index=i,o.parsed=!0,t.items[i]=o,S("ElementParse",o),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var o="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(o).on(o,n)):(i.isObj=!1,i.delegate?e.off(o).on(o,i.delegate,n):(i.items=e,e.off(o).on(o,n)))},_openClick:function(i,n,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var r=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(b.width()<r)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),o.el=e(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),t.open(o)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var o={status:e,text:n};S("UpdateStatus",o),e=o.status,n=o.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(g)){var n=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(n&&o)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(o&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||b.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){if(i.target!==t.wrap[0]&&!e.contains(t.wrap[0],i.target))return t._setFocus(),!1},_parseMarkup:function(t,i,n){var o;n.data&&(i=e.extend(n.data,i)),S(p,[t,i,n]),e.each(i,function(i,n){if(void 0===n||!1===n)return!0;if(o=i.split("_"),o.length>1){var r=t.find(v+"-"+o[0]);if(r.length>0){var s=o[1];"replaceWith"===s?r[0]!==n[0]&&r.replaceWith(n):"img"===s?r.is("img")?r.attr("src",n):r.replaceWith(e("<img>").attr("src",n).attr("class",r.attr("class"))):r.attr(o[1],n)}}else t.find(v+"-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:k.prototype,modules:[],open:function(t,i){return C(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){C();var n=e(this);if("string"==typeof i)if("open"===i){var o,r=w?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=n,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},n,r)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),w?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var A,_,$,I="inline",L=function(){$&&(_.after($.addClass(A)).detach(),$=null)};e.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(I),T(a+"."+I,function(){L()})},getInline:function(i,n){if(L(),i.src){var o=t.st.inline,r=e(i.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(_||(A=o.hiddenClass,_=x(A),A="mfp-"+A),$=r.after(_).detach().removeClass(A)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return i.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var N,P="ajax",M=function(){N&&e(document.body).removeClass(N)},F=function(){M(),t.req&&t.req.abort()};e.magnificPopup.registerModule(P,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(P),N=t.st.ajax.cursor,T(a+"."+P,F),T("BeforeChange."+P,F)},getAjax:function(i){N&&e(document.body).addClass(N),t.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,o,r){var s={data:n,xhr:r};S("ParseAjax",s),t.appendContent(e(s.data),P),i.finished=!0,M(),t._setFocus(),setTimeout(function(){t.wrap.addClass(m)},16),t.updateStatus("ready"),S("AjaxContentAdded")},error:function(){M(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(n),""}}});var B,j=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,n=".image";t.types.push("image"),T(d+n,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),T(a+n,function(){i.cursor&&e(document.body).removeClass(i.cursor),b.off("resize"+v)}),T("Resize"+n,t.resizeImage),t.isLowIE&&T("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,B&&clearInterval(B),e.isCheckingImgSize=!1,S("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],o=function(r){B&&clearInterval(B),B=setInterval(function(){if(n.naturalWidth>0)return void t._onImageHasSize(e);i>200&&clearInterval(B),i++,3===i?o(10):40===i?o(50):100===i&&o(500)},r)};o(1)},getImage:function(i,n){var o=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,S("ImageLoadComplete")):(o++,o<200?setTimeout(r,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=e(c).on("load.mfploader",r).on("error.mfploader",s),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:j(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(B&&clearInterval(B),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var R,K=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var o,r,s=i.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=n,t.css(o),t},u=function(){t.content.css("visibility","visible")};T("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void u();r=c(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){r.remove(),e=r=null,S("ZoomAnimationEnded")},16)},s)},16)}}),T(l+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;r=c(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),T(a+n,function(){t._allowZoom()&&(u(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=n.offset(),r=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var a={width:n.width(),height:(w?n.innerHeight():n[0].offsetHeight)-s-r};return K()?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var z="iframe",H="//about:blank",D=function(e){if(t.currTemplate[z]){var i=t.currTemplate[z].find("iframe");i.length&&(e||(i[0].src=H),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(z),T("BeforeChange",function(e,t,i){t!==i&&(t===z?D():i===z&&D(!0))}),T(a+"."+z,function(){D()})},getIframe:function(i,n){var o=i.src,r=t.st.iframe;e.each(r.patterns,function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var s={};return r.srcAction&&(s[r.srcAction]=o),t._parseMarkup(n,s,i),t.updateStatus("ready"),n}}});var U=function(e){var i=t.items.length;return e>i-1?e-i:e<0?i+e:e},W=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,o=".mfp-gallery";if(t.direction=!0,!i||!i.enabled)return!1;r+=" mfp-gallery",T(d+o,function(){i.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",function(){if(t.items.length>1)return t.next(),!1}),n.on("keydown"+o,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),T("UpdateStatus"+o,function(e,i){i.text&&(i.text=W(i.text,t.currItem.index,t.items.length))}),T(p+o,function(e,n,o,r){var s=t.items.length;o.counter=s>1?W(i.tCounter,r.index,s):""}),T("BuildControls"+o,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,o=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(g),r=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(g);o.click(function(){t.prev()}),r.click(function(){t.next()}),t.container.append(o.add(r))}}),T(f+o,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),T(a+o,function(){n.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null})},next:function(){t.direction=!0,t.index=U(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=U(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=U(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),S("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,S("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var V="retina";e.magnificPopup.registerModule(V,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(T("ImageHasSize."+V,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),T("ElementParse."+V,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),C()}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nunjucks=t():e.nunjucks=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,i){"use strict";function n(e,t){return h.hasOwnProperty.call(e,t)}function o(e){return v[e]}function r(e,t,i){var n,o,s,a=this;if(e instanceof Error&&(e=(o=e).name+": "+o.message),Object.setPrototypeOf?Object.setPrototypeOf(n=Error(e),r.prototype):Object.defineProperty(n=this,"message",{enumerable:!1,writable:!0,value:e}),Object.defineProperty(n,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(n,this.constructor),o){var l=Object.getOwnPropertyDescriptor(o,"stack");(s=l&&(l.get||function(){return l.value}))||(s=function(){return o.stack})}else{var c=Error(e).stack;s=function(){return c}}return Object.defineProperty(n,"stack",{get:function(){return s.call(a)}}),Object.defineProperty(n,"cause",{value:o}),n.lineno=t,n.colno=i,n.firstUpdate=!0,n.Update=function(e){var t="("+(e||"unknown path")+")";return a.firstUpdate&&(a.lineno&&a.colno?t+=" [Line "+a.lineno+", Column "+a.colno+"]":a.lineno&&(t+=" [Line "+a.lineno+"]")),t+="\n ",a.firstUpdate&&(t+=" "),a.message=t+(a.message||""),a.firstUpdate=!1,a},n}function s(e){return"[object Function]"===h.toString.call(e)}function a(e){return"[object Array]"===h.toString.call(e)}function l(e){return"[object String]"===h.toString.call(e)}function c(e){return"[object Object]"===h.toString.call(e)}function u(e){return Array.prototype.slice.call(e)}function p(e,t,i){return Array.prototype.indexOf.call(e||[],t,i)}function d(e){var t=[];for(var i in e)n(e,i)&&t.push(i);return t}var f=Array.prototype,h=Object.prototype,v={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},m=/[&"'<>]/g;(t=e.exports={}).hasOwnProp=n,t.t=function(e,i,n){if(n.Update||(n=new t.TemplateError(n)),n.Update(e),!i){var o=n;(n=Error(o.message)).name=o.name}return n},Object.setPrototypeOf?Object.setPrototypeOf(r.prototype,Error.prototype):r.prototype=Object.create(Error.prototype,{constructor:{value:r}}),t.TemplateError=r,t.escape=function(e){return e.replace(m,o)},t.isFunction=s,t.isArray=a,t.isString=l,t.isObject=c,t.groupBy=function(e,t){for(var i={},n=s(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var r=e[o],a=n(r,o);(i[a]||(i[a]=[])).push(r)}return i},t.toArray=u,t.without=function(e){var t=[];if(!e)return t;for(var i=e.length,n=u(arguments).slice(1),o=-1;++o<i;)-1===p(n,e[o])&&t.push(e[o]);return t},t.repeat=function(e,t){for(var i="",n=0;n<t;n++)i+=e;return i},t.each=function(e,t,i){if(null!=e)if(f.forEach&&e.forEach===f.forEach)e.forEach(t,i);else if(e.length===+e.length)for(var n=0,o=e.length;n<o;n++)t.call(i,e[n],n,e)},t.map=function(e,t){var i=[];if(null==e)return i;if(f.map&&e.map===f.map)return e.map(t);for(var n=0;n<e.length;n++)i[i.length]=t(e[n],n);return e.length===+e.length&&(i.length=e.length),i},t.asyncIter=function(e,t,i){var n=-1;!function o(){++n<e.length?t(e[n],n,o,i):i()}()},t.asyncFor=function(e,t,i){var n=d(e||{}),o=n.length,r=-1;!function s(){var a=n[++r];r<o?t(a,e[a],r,o,s):i()}()},t.indexOf=p,t.keys=d,t.r=function(e){return d(e).map(function(t){return[t,e[t]]})},t.u=function(e){return d(e).map(function(t){return e[t]})},t.h=t.extend=function(e,t){return e=e||{},d(t).forEach(function(i){e[i]=t[i]}),e},t.inOperator=function(e,t){if(a(t)||l(t))return-1!==t.indexOf(e);if(c(t))return e in t;throw Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,i){i=i||{},s.keys(i).forEach(function(t){var n,o;i[t]=(n=e.prototype[t],o=i[t],"function"!=typeof n||"function"!=typeof o?o:function(){var e=this.parent;this.parent=n;var t=o.apply(this,arguments);return this.parent=e,t})});var n=function(e){function i(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,o(i,[{key:"typename",get:function(){return t}}]),i}(e);return s.h(n.prototype,i),n}var s=i(0),a=function(){function e(){this.init.apply(this,arguments)}return e.prototype.init=function(){},e.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),r(this,e,t)},o(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}();e.exports=a},function(e,t,i){"use strict";function n(e){return e&&Object.prototype.hasOwnProperty.call(e,"__keywords")}function o(e){var t=e.length;return 0===t?0:n(e[t-1])?t-1:t}function r(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}var s=i(0),a=Array.from,l="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof a,c=function(){function e(e,t){this.variables={},this.parent=e,this.topLevel=!1,this.isolateWrites=t}var t=e.prototype;return t.set=function(e,t,i){var n=e.split("."),o=this.variables,r=this;if(i&&(r=this.resolve(n[0],!0)))r.set(e,t);else{for(var s=0;s<n.length-1;s++){var a=n[s];o[a]||(o[a]={}),o=o[a]}o[n[n.length-1]]=t}},t.get=function(e){var t=this.variables[e];return void 0!==t?t:null},t.lookup=function(e){var t=this.parent,i=this.variables[e];return void 0!==i?i:t&&t.lookup(e)},t.resolve=function(e,t){var i=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:i&&i.resolve(e)},t.push=function(t){return new e(this,t)},t.pop=function(){return this.parent},e}();r.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),r.prototype.valueOf=function(){return this.val},r.prototype.toString=function(){return this.val},e.exports={Frame:c,makeMacro:function(e,t,i){var r=this;return function(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];var c,u=o(a),p=function(e){var t=e.length;if(t){var i=e[t-1];if(n(i))return i}return{}}(a);if(u>e.length)c=a.slice(0,e.length),a.slice(c.length,u).forEach(function(e,i){i<t.length&&(p[t[i]]=e)}),c.push(p);else if(u<e.length){c=a.slice(0,u);for(var d=u;d<e.length;d++){var f=e[d];c.push(p[f]),delete p[f]}c.push(p)}else c=a;return i.apply(r,c)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:o,suppressValue:function(e,t){return e=void 0!==e&&null!==e?e:"",!t||e instanceof r||(e=s.escape(e.toString())),e},ensureDefined:function(e,t,i){if(null===e||void 0===e)throw new s.TemplateError("attempted to output null or undefined value",t+1,i+1);return e},memberLookup:function(e,t){if(void 0!==e&&null!==e)return"function"==typeof e[t]?function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];return e[t].apply(e,n)}:e[t]},contextOrFrameLookup:function(e,t,i){var n=t.lookup(i);return void 0!==n?n:e.lookup(i)},callWrap:function(e,t,i,n){if(!e)throw Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!=typeof e)throw Error("Unable to call `"+t+"`, which is not a function");return e.apply(i,n)},handleError:function(e,t,i){return e.lineno?e:new s.TemplateError(e,t,i)},isArray:s.isArray,keys:s.keys,SafeString:r,copySafeness:function(e,t){return e instanceof r?new r(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new r(e):"function"!==t?e:function(t){var i=e.apply(this,arguments);return"string"==typeof i?new r(i):i}},asyncEach:function(e,t,i,n){if(s.isArray(e)){var o=e.length;s.asyncIter(e,function(e,n,r){switch(t){case 1:i(e,n,o,r);break;case 2:i(e[0],e[1],n,o,r);break;case 3:i(e[0],e[1],e[2],n,o,r);break;default:e.push(n,o,r),i.apply(this,e)}},n)}else s.asyncFor(e,function(e,t,n,o,r){i(e,t,n,o,r)},n)},asyncAll:function(e,t,i,n){function o(e,t){l++,a[e]=t,l===r&&n(null,a.join(""))}var r,a,l=0;if(s.isArray(e))if(r=e.length,a=Array(r),0===r)n(null,"");else for(var c=0;c<e.length;c++){var u=e[c];switch(t){case 1:i(u,c,r,o);break;case 2:i(u[0],u[1],c,r,o);break;case 3:i(u[0],u[1],u[2],c,r,o);break;default:u.push(c,r,o),i.apply(this,u)}}else{var p=s.keys(e||{});if(r=p.length,a=Array(r),0===r)n(null,"");else for(var d=0;d<p.length;d++){var f=p[d];i(f,e[f],d,r,o)}}},inOperator:s.inOperator,fromIterator:function(e){return"object"!=typeof e||null===e||s.isArray(e)?e:l&&Symbol.iterator in e?a(e):e}}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e,t,i){e instanceof t&&i.push(e),e instanceof l&&e.findAll(t,i)}function a(e,t,i){var n=e.split("\n");n.forEach(function(e,o){e&&(i&&o>0||!i)&&process.stdout.write(" ".repeat(t));var r=o===n.length-1?"":"\n";process.stdout.write(""+e+r)})}var l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.init=function(e,t){for(var i=this,n=arguments,o=arguments.length,r=Array(o>2?o-2:0),s=2;s<o;s++)r[s-2]=arguments[s];this.lineno=e,this.colno=t,this.fields.forEach(function(e,t){var o=n[t+2];void 0===o&&(o=null),i[e]=o})},i.findAll=function(e,t){var i=this;return t=t||[],this instanceof u?this.children.forEach(function(i){return s(i,e,t)}):this.fields.forEach(function(n){return s(i[n],e,t)}),t},i.iterFields=function(e){var t=this;this.fields.forEach(function(i){e(t[i],i)})},t}(i(1)),c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),o(t,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),t}(l),u=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var i=t.prototype;return i.init=function(t,i,n){e.prototype.init.call(this,t,i,n||[])},i.addChild=function(e){this.children.push(e)},o(t,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),t}(l),p=u.extend("Root"),d=c.extend("Literal"),f=c.extend("Symbol"),h=u.extend("Group"),v=u.extend("Array"),m=l.extend("Pair",{fields:["key","value"]}),y=u.extend("Dict"),g=l.extend("LookupVal",{fields:["target","val"]}),k=l.extend("If",{fields:["cond","body","else_"]}),w=k.extend("IfAsync"),b=l.extend("InlineIf",{fields:["cond","body","else_"]}),T=l.extend("For",{fields:["arr","name","body","else_"]}),x=T.extend("AsyncEach"),S=T.extend("AsyncAll"),E=l.extend("Macro",{fields:["name","args","body"]}),C=E.extend("Caller"),O=l.extend("Import",{fields:["template","target","withContext"]}),A=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.init=function(t,i,n,o,r){e.prototype.init.call(this,t,i,n,o||new u,r)},o(t,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),t}(l),_=l.extend("FunCall",{fields:["name","args"]}),$=_.extend("Filter"),I=$.extend("FilterAsync",{fields:["name","args","symbol"]}),L=y.extend("KeywordArgs"),N=l.extend("Block",{fields:["name","body"]}),P=l.extend("Super",{fields:["blockName","symbol"]}),M=l.extend("TemplateRef",{fields:["template"]}).extend("Extends"),F=l.extend("Include",{fields:["template","ignoreMissing"]}),B=l.extend("Set",{fields:["targets","value"]}),j=l.extend("Switch",{fields:["expr","cases","default"]}),R=l.extend("Case",{fields:["cond","body"]}),K=u.extend("Output"),z=l.extend("Capture",{fields:["body"]}),H=d.extend("TemplateData"),D=l.extend("UnaryOp",{fields:["target"]}),U=l.extend("BinOp",{fields:["left","right"]}),W=U.extend("In"),V=U.extend("Is"),q=U.extend("Or"),Y=U.extend("And"),G=D.extend("Not"),X=U.extend("Add"),Z=U.extend("Concat"),J=U.extend("Sub"),Q=U.extend("Mul"),ee=U.extend("Div"),te=U.extend("FloorDiv"),ie=U.extend("Mod"),ne=U.extend("Pow"),oe=D.extend("Neg"),re=D.extend("Pos"),se=l.extend("Compare",{fields:["expr","ops"]}),ae=l.extend("CompareOperand",{fields:["expr","type"]}),le=l.extend("CallExtension",{init:function(e,t,i,n){this.parent(),this.extName=e.__name||e,this.prop=t,this.args=i||new u,this.contentArgs=n||[],this.autoescape=e.autoescape},fields:["extName","prop","args","contentArgs"]}),ce=le.extend("CallExtensionAsync");e.exports={Node:l,Root:p,NodeList:u,Value:c,Literal:d,Symbol:f,Group:h,Array:v,Pair:m,Dict:y,Output:K,Capture:z,TemplateData:H,If:k,IfAsync:w,InlineIf:b,For:T,AsyncEach:x,AsyncAll:S,Macro:E,Caller:C,Import:O,FromImport:A,FunCall:_,Filter:$,FilterAsync:I,KeywordArgs:L,Block:N,Super:P,Extends:M,Include:F,Set:B,Switch:j,Case:R,LookupVal:g,BinOp:U,In:W,Is:V,Or:q,And:Y,Not:G,Add:X,Concat:Z,Sub:J,Mul:Q,Div:ee,FloorDiv:te,Mod:ie,Pow:ne,Neg:oe,Pos:re,Compare:se,CompareOperand:ae,CallExtension:le,CallExtensionAsync:ce,printNodes:function e(t,i){if(i=i||0,a(t.typename+": ",i),t instanceof u)a("\n"),t.children.forEach(function(t){e(t,i+2)});else if(t instanceof le)a(t.extName+"."+t.prop+"\n"),t.args&&e(t.args,i+2),t.contentArgs&&t.contentArgs.forEach(function(t){e(t,i+2)});else{var n=[],o=null;t.iterFields(function(e,t){e instanceof l?n.push([t,e]):(o=o||{})[t]=e}),o?a(JSON.stringify(o,null,2)+"\n",null,!0):a("\n"),n.forEach(function(t){var n=t[0],o=t[1];a("["+n+"] =>",i+2),e(o,i+4)})}}}},function(e,t){},function(e,t,i){"use strict";var n=i(8),o=i(16),r=i(3),s=i(0).TemplateError,a=i(2).Frame,l={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},c=function(e){function t(){return e.apply(this,arguments)||this}var i,n;n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var o=t.prototype;return o.init=function(e,t){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this.f="",this.inBlock=!1,this.throwOnUndefined=t},o.fail=function(e,t,i){throw void 0!==t&&(t+=1),void 0!==i&&(i+=1),new s(e,t,i)},o.a=function(){var e=this.v();return this.bufferStack.push(this.buffer),this.buffer=e,this.w("var "+this.buffer+' = "";'),e},o.b=function(){this.buffer=this.bufferStack.pop()},o.w=function(e){this.codebuf.push(e)},o.y=function(e){this.w(e+"\n")},o.g=function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];i.forEach(function(t){return e.y(t)})},o.k=function(e){this.buffer="output",this.f="",this.y("function "+e+"(env, context, frame, runtime, cb) {"),this.y("var lineno = null;"),this.y("var colno = null;"),this.y("var "+this.buffer+' = "";'),this.y("try {")},o.x=function(e){e||this.y("cb(null, "+this.buffer+");"),this.O(),this.y("} catch (e) {"),this.y("  cb(runtime.handleError(e, lineno, colno));"),this.y("}"),this.y("}"),this.buffer=null},o.A=function(){this.f+="})"},o.O=function(){this.y(this.f+";"),this.f=""},o.T=function(e){var t=this.f;this.f="",e.call(this),this.O(),this.f=t},o._=function(e){var t=this.v();return"function("+t+(e?","+e:"")+") {\nif("+t+") { cb("+t+"); return; }"},o.v=function(){return"t_"+ ++this.lastId},o.N=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o.S=function(e,t){var i=this;e.children.forEach(function(e){i.compile(e,t)})},o.j=function(e,t,i,n){var o=this;i&&this.w(i),e.children.forEach(function(e,i){i>0&&o.w(","),o.compile(e,t)}),n&&this.w(n)},o.C=function(e,t){this.assertType(e,r.Literal,r.Symbol,r.Group,r.Array,r.Dict,r.FunCall,r.Caller,r.Filter,r.LookupVal,r.Compare,r.InlineIf,r.In,r.And,r.Or,r.Not,r.Add,r.Concat,r.Sub,r.Mul,r.Div,r.FloorDiv,r.Mod,r.Pow,r.Neg,r.Pos,r.Compare,r.NodeList),this.compile(e,t)},o.assertType=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i.some(function(t){return e instanceof t})||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},o.compileCallExtension=function(e,t,i){var n=this,o=e.args,s=e.contentArgs,a="boolean"!=typeof e.autoescape||e.autoescape;if(i||this.w(this.buffer+" += runtime.suppressValue("),this.w('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this.w("context"),(o||s)&&this.w(","),o&&(o instanceof r.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),o.children.forEach(function(e,i){n.C(e,t),(i!==o.children.length-1||s.length)&&n.w(",")})),s.length&&s.forEach(function(e,i){if(i>0&&n.w(","),e){n.y("function(cb) {"),n.y("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var o=n.a();n.T(function(){n.compile(e,t),n.y("cb(null, "+o+");")}),n.b(),n.y("return "+o+";"),n.y("}")}else n.w("null")}),i){var l=this.v();this.y(", "+this._(l)),this.y(this.buffer+" += runtime.suppressValue("+l+", "+a+" && env.opts.autoescape);"),this.A()}else this.w(")"),this.w(", "+a+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(e,t){this.compileCallExtension(e,t,!0)},o.compileNodeList=function(e,t){this.S(e,t)},o.compileLiteral=function(e){if("string"==typeof e.value){var t=e.value.replace(/\\/g,"\\\\");t=(t=(t=(t=t.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"),this.w('"'+t+'"')}else null===e.value?this.w("null"):this.w(e.value.toString())},o.compileSymbol=function(e,t){var i=e.value,n=t.lookup(i);n?this.w(n):this.w('runtime.contextOrFrameLookup(context, frame, "'+i+'")')},o.compileGroup=function(e,t){this.j(e,t,"(",")")},o.compileArray=function(e,t){this.j(e,t,"[","]")},o.compileDict=function(e,t){this.j(e,t,"{","}")},o.compilePair=function(e,t){var i=e.key,n=e.value;i instanceof r.Symbol?i=new r.Literal(i.lineno,i.colno,i.value):i instanceof r.Literal&&"string"==typeof i.value||this.fail("compilePair: Dict keys must be strings or names",i.lineno,i.colno),this.compile(i,t),this.w(": "),this.C(n,t)},o.compileInlineIf=function(e,t){this.w("("),this.compile(e.cond,t),this.w("?"),this.compile(e.body,t),this.w(":"),null!==e.else_?this.compile(e.else_,t):this.w('""'),this.w(")")},o.compileIn=function(e,t){this.w("runtime.inOperator("),this.compile(e.left,t),this.w(","),this.compile(e.right,t),this.w(")")},o.compileIs=function(e,t){var i=e.right.name?e.right.name.value:e.right.value;this.w('env.getTest("'+i+'").call(context, '),this.compile(e.left,t),e.right.args&&(this.w(","),this.compile(e.right.args,t)),this.w(") === true")},o.I=function(e,t,i){this.compile(e.left,t),this.w(i),this.compile(e.right,t)},o.compileOr=function(e,t){return this.I(e,t," || ")},o.compileAnd=function(e,t){return this.I(e,t," && ")},o.compileAdd=function(e,t){return this.I(e,t," + ")},o.compileConcat=function(e,t){return this.I(e,t,' + "" + ')},o.compileSub=function(e,t){return this.I(e,t," - ")},o.compileMul=function(e,t){return this.I(e,t," * ")},o.compileDiv=function(e,t){return this.I(e,t," / ")},o.compileMod=function(e,t){return this.I(e,t," % ")},o.compileNot=function(e,t){this.w("!"),this.compile(e.target,t)},o.compileFloorDiv=function(e,t){this.w("Math.floor("),this.compile(e.left,t),this.w(" / "),this.compile(e.right,t),this.w(")")},o.compilePow=function(e,t){this.w("Math.pow("),this.compile(e.left,t),this.w(", "),this.compile(e.right,t),this.w(")")},o.compileNeg=function(e,t){this.w("-"),this.compile(e.target,t)},o.compilePos=function(e,t){this.w("+"),this.compile(e.target,t)},o.compileCompare=function(e,t){var i=this;this.compile(e.expr,t),e.ops.forEach(function(e){i.w(" "+l[e.type]+" "),i.compile(e.expr,t)})},o.compileLookupVal=function(e,t){this.w("runtime.memberLookup(("),this.C(e.target,t),this.w("),"),this.C(e.val,t),this.w(")")},o.F=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this.F(e.name)+")";case"LookupVal":return this.F(e.target)+'["'+this.F(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},o.compileFunCall=function(e,t){this.w("(lineno = "+e.lineno+", colno = "+e.colno+", "),this.w("runtime.callWrap("),this.C(e.name,t),this.w(', "'+this.F(e.name).replace(/"/g,'\\"')+'", context, '),this.j(e.args,t,"[","])"),this.w(")")},o.compileFilter=function(e,t){var i=e.name;this.assertType(i,r.Symbol),this.w('env.getFilter("'+i.value+'").call(context, '),this.j(e.args,t),this.w(")")},o.compileFilterAsync=function(e,t){var i=e.name,n=e.symbol.value;this.assertType(i,r.Symbol),t.set(n,n),this.w('env.getFilter("'+i.value+'").call(context, '),this.j(e.args,t),this.y(", "+this._(n)),this.A()},o.compileKeywordArgs=function(e,t){this.w("runtime.makeKeywordArgs("),this.compileDict(e,t),this.w(")")},o.compileSet=function(e,t){var i=this,n=[];e.targets.forEach(function(e){var o=e.value,r=t.lookup(o);null!==r&&void 0!==r||(r=i.v(),i.y("var "+r+";")),n.push(r)}),e.value?(this.w(n.join(" = ")+" = "),this.C(e.value,t),this.y(";")):(this.w(n.join(" = ")+" = "),this.compile(e.body,t),this.y(";")),e.targets.forEach(function(e,t){var o=n[t],r=e.value;i.y('frame.set("'+r+'", '+o+", true);"),i.y("if(frame.topLevel) {"),i.y('context.setVariable("'+r+'", '+o+");"),i.y("}"),"_"!==r.charAt(0)&&(i.y("if(frame.topLevel) {"),i.y('context.addExport("'+r+'", '+o+");"),i.y("}"))})},o.compileSwitch=function(e,t){var i=this;this.w("switch ("),this.compile(e.expr,t),this.w(") {"),e.cases.forEach(function(e,n){i.w("case "),i.compile(e.cond,t),i.w(": "),i.compile(e.body,t),e.body.children.length&&i.y("break;")}),e.default&&(this.w("default:"),this.compile(e.default,t)),this.w("}")},o.compileIf=function(e,t,i){var n=this;this.w("if("),this.C(e.cond,t),this.y(") {"),this.T(function(){n.compile(e.body,t),i&&n.w("cb()")}),e.else_?(this.y("}\nelse {"),this.T(function(){n.compile(e.else_,t),i&&n.w("cb()")})):i&&(this.y("}\nelse {"),this.w("cb()")),this.y("}")},o.compileIfAsync=function(e,t){this.w("(function(cb) {"),this.compileIf(e,t,!0),this.w("})("+this._()),this.A()},o.L=function(e,t,i,n){var o=this;[{name:"index",val:i+" + 1"},{name:"index0",val:i},{name:"revindex",val:n+" - "+i},{name:"revindex0",val:n+" - "+i+" - 1"},{name:"first",val:i+" === 0"},{name:"last",val:i+" === "+n+" - 1"},{name:"length",val:n}].forEach(function(e){o.y('frame.set("loop.'+e.name+'", '+e.val+");")})},o.compileFor=function(e,t){var i=this,n=this.v(),o=this.v(),s=this.v();if(t=t.push(),this.y("frame = frame.push();"),this.w("var "+s+" = "),this.C(e.arr,t),this.y(";"),this.w("if("+s+") {"),this.y(s+" = runtime.fromIterator("+s+");"),e.name instanceof r.Array){this.y("var "+n+";"),this.y("if(runtime.isArray("+s+")) {"),this.y("var "+o+" = "+s+".length;"),this.y("for("+n+"=0; "+n+" < "+s+".length; "+n+"++) {"),e.name.children.forEach(function(o,r){var a=i.v();i.y("var "+a+" = "+s+"["+n+"]["+r+"];"),i.y('frame.set("'+o+'", '+s+"["+n+"]["+r+"]);"),t.set(e.name.children[r].value,a)}),this.L(e,s,n,o),this.T(function(){i.compile(e.body,t)}),this.y("}"),this.y("} else {");var a=e.name.children,l=a[0],c=a[1],u=this.v(),p=this.v();t.set(l.value,u),t.set(c.value,p),this.y(n+" = -1;"),this.y("var "+o+" = runtime.keys("+s+").length;"),this.y("for(var "+u+" in "+s+") {"),this.y(n+"++;"),this.y("var "+p+" = "+s+"["+u+"];"),this.y('frame.set("'+l.value+'", '+u+");"),this.y('frame.set("'+c.value+'", '+p+");"),this.L(e,s,n,o),this.T(function(){i.compile(e.body,t)}),this.y("}"),this.y("}")}else{var d=this.v();t.set(e.name.value,d),this.y("var "+o+" = "+s+".length;"),this.y("for(var "+n+"=0; "+n+" < "+s+".length; "+n+"++) {"),this.y("var "+d+" = "+s+"["+n+"];"),this.y('frame.set("'+e.name.value+'", '+d+");"),this.L(e,s,n,o),this.T(function(){i.compile(e.body,t)}),this.y("}")}this.y("}"),e.else_&&(this.y("if (!"+o+") {"),this.compile(e.else_,t),this.y("}")),this.y("frame = frame.pop();")},o.K=function(e,t,i){var n=this,o=this.v(),s=this.v(),a=this.v(),l=i?"asyncAll":"asyncEach";if(t=t.push(),this.y("frame = frame.push();"),this.w("var "+a+" = runtime.fromIterator("),this.C(e.arr,t),this.y(");"),e.name instanceof r.Array){var c=e.name.children.length;this.w("runtime."+l+"("+a+", "+c+", function("),e.name.children.forEach(function(e){n.w(e.value+",")}),this.w(o+","+s+",next) {"),e.name.children.forEach(function(e){var i=e.value;t.set(i,i),n.y('frame.set("'+i+'", '+i+");")})}else{var u=e.name.value;this.y("runtime."+l+"("+a+", 1, function("+u+", "+o+", "+s+",next) {"),this.y('frame.set("'+u+'", '+u+");"),t.set(u,u)}this.L(e,a,o,s),this.T(function(){var r;i&&(r=n.a()),n.compile(e.body,t),n.y("next("+o+(r?","+r:"")+");"),i&&n.b()});var p=this.v();this.y("}, "+this._(p)),this.A(),i&&this.y(this.buffer+" += "+p+";"),e.else_&&(this.y("if (!"+a+".length) {"),this.compile(e.else_,t),this.y("}")),this.y("frame = frame.pop();")},o.compileAsyncEach=function(e,t){this.K(e,t)},o.compileAsyncAll=function(e,t){this.K(e,t,!0)},o.R=function(e,t){var i=this,n=[],o=null,s="macro_"+this.v(),l=void 0!==t;e.args.children.forEach(function(t,s){s===e.args.children.length-1&&t instanceof r.Dict?o=t:(i.assertType(t,r.Symbol),n.push(t))});var c,u=n.map(function(e){return"l_"+e.value}).concat(["kwargs"]),p=n.map(function(e){return'"'+e.value+'"'}),d=(o&&o.children||[]).map(function(e){return'"'+e.key.value+'"'});c=l?t.push(!0):new a,this.g("var "+s+" = runtime.makeMacro(","["+p.join(", ")+"], ","["+d.join(", ")+"], ","function ("+u.join(", ")+") {","var callerFrame = frame;","frame = "+(l?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),n.forEach(function(e){i.y('frame.set("'+e.value+'", l_'+e.value+");"),c.set(e.value,"l_"+e.value)}),o&&o.children.forEach(function(e){var t=e.key.value;i.w('frame.set("'+t+'", '),i.w('Object.prototype.hasOwnProperty.call(kwargs, "'+t+'")'),i.w(' ? kwargs["'+t+'"] : '),i.C(e.value,c),i.w(");")});var f=this.a();return this.T(function(){i.compile(e.body,c)}),this.y("frame = "+(l?"frame.pop();":"callerFrame;")),this.y("return new runtime.SafeString("+f+");"),this.y("});"),this.b(),s},o.compileMacro=function(e,t){var i=this.R(e),n=e.name.value;t.set(n,i),t.parent?this.y('frame.set("'+n+'", '+i+");"):("_"!==e.name.value.charAt(0)&&this.y('context.addExport("'+n+'");'),this.y('context.setVariable("'+n+'", '+i+");"))},o.compileCaller=function(e,t){this.w("(function (){");var i=this.R(e,t);this.w("return "+i+";})()")},o.M=function(e,t,i,n){var o=this.v(),r=this.N(),s=this._(o),a=i?"true":"false",l=n?"true":"false";return this.w("env.getTemplate("),this.C(e.template,t),this.y(", "+a+", "+r+", "+l+", "+s),o},o.compileImport=function(e,t){var i=e.target.value,n=this.M(e,t,!1,!1);this.A(),this.y(n+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._(n)),this.A(),t.set(i,n),t.parent?this.y('frame.set("'+i+'", '+n+");"):this.y('context.setVariable("'+i+'", '+n+");")},o.compileFromImport=function(e,t){var i=this,n=this.M(e,t,!1,!1);this.A(),this.y(n+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._(n)),this.A(),e.names.children.forEach(function(e){var o,s,a=i.v();e instanceof r.Pair?(o=e.key.value,s=e.value.value):s=o=e.value,i.y("if(Object.prototype.hasOwnProperty.call("+n+', "'+o+'")) {'),i.y("var "+a+" = "+n+"."+o+";"),i.y("} else {"),i.y("cb(new Error(\"cannot import '"+o+"'\")); return;"),i.y("}"),t.set(s,a),t.parent?i.y('frame.set("'+s+'", '+a+");"):i.y('context.setVariable("'+s+'", '+a+");")})},o.compileBlock=function(e){var t=this.v();this.inBlock||this.w('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this.w('context.getBlock("'+e.name.value+'")'),this.inBlock||this.w(")"),this.y("(env, context, frame, runtime, "+this._(t)),this.y(this.buffer+" += "+t+";"),this.A()},o.compileSuper=function(e,t){var i=e.blockName.value,n=e.symbol.value,o=this._(n);this.y('context.getSuper(env, "'+i+'", b_'+i+", frame, runtime, "+o),this.y(n+" = runtime.markSafe("+n+");"),this.A(),t.set(n,n)},o.compileExtends=function(e,t){var i=this.v(),n=this.M(e,t,!0,!1);this.y("parentTemplate = "+n),this.y("for(var "+i+" in parentTemplate.blocks) {"),this.y("context.addBlock("+i+", parentTemplate.blocks["+i+"]);"),this.y("}"),this.A()},o.compileInclude=function(e,t){this.y("var tasks = [];"),this.y("tasks.push("),this.y("function(callback) {");var i=this.M(e,t,!1,e.ignoreMissing);this.y("callback(null,"+i+");});"),this.y("});");var n=this.v();this.y("tasks.push("),this.y("function(template, callback){"),this.y("template.render(context.getVariables(), frame, "+this._(n)),this.y("callback(null,"+n+");});"),this.y("});"),this.y("tasks.push("),this.y("function(result, callback){"),this.y(this.buffer+" += result;"),this.y("callback(null);"),this.y("});"),this.y("env.waterfall(tasks, function(){"),this.A()},o.compileTemplateData=function(e,t){this.compileLiteral(e,t)},o.compileCapture=function(e,t){var i=this,n=this.buffer;this.buffer="output",this.y("(function() {"),this.y('var output = "";'),this.T(function(){i.compile(e.body,t)}),this.y("return output;"),this.y("})()"),this.buffer=n},o.compileOutput=function(e,t){var i=this;e.children.forEach(function(n){n instanceof r.TemplateData?n.value&&(i.w(i.buffer+" += "),i.compileLiteral(n,t),i.y(";")):(i.w(i.buffer+" += runtime.suppressValue("),i.throwOnUndefined&&i.w("runtime.ensureDefined("),i.compile(n,t),i.throwOnUndefined&&i.w(","+e.lineno+","+e.colno+")"),i.w(", env.opts.autoescape);\n"))})},o.compileRoot=function(e,t){var i=this;t&&this.fail("compileRoot: root node can't have frame"),t=new a,this.k("root"),this.y("var parentTemplate = null;"),this.S(e,t),this.y("if(parentTemplate) {"),this.y("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this.y("} else {"),this.y("cb(null, "+this.buffer+");"),this.y("}"),this.x(!0),this.inBlock=!0;var n=[],o=e.findAll(r.Block);o.forEach(function(e,t){var o=e.name.value;if(-1!==n.indexOf(o))throw Error('Block "'+o+'" defined more than once.');n.push(o),i.k("b_"+o);var r=new a;i.y("var frame = frame.push(true);"),i.compile(e.body,r),i.x()}),this.y("return {"),o.forEach(function(e,t){var n="b_"+e.name.value;i.y(n+": "+n+",")}),this.y("root: root\n};")},o.compile=function(e,t){var i=this["compile"+e.typename];i?i.call(this,e,t):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},o.getCode=function(){return this.codebuf.join("")},t}(i(1));e.exports={compile:function(e,t,i,r,s){void 0===s&&(s={});var a=new c(r,s.throwOnUndefined),l=(i||[]).map(function(e){return e.preprocess}).filter(function(e){return!!e}).reduce(function(e,t){return t(e)},e);return a.compile(o.transform(n.parse(l,i,s),t,r)),a.getCode()},Compiler:c}},function(e,t,i){"use strict";var n=i(4),o=i(1);e.exports=function(e){function t(){return e.apply(this,arguments)||this}var i,o;o=e,(i=t).prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o;var r=t.prototype;return r.on=function(e,t){this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)},r.emit=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.listeners&&this.listeners[e]&&this.listeners[e].forEach(function(e){e.apply(void 0,i)})},r.resolve=function(e,t){return n.resolve(n.dirname(e),t)},r.isRelative=function(e){return 0===e.indexOf("./")||0===e.indexOf("../")},t}(o)},function(e,t,i){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t,i){r(function(){e(t,i)})}var r=i(12),s=i(15),a=i(0),l=i(5),c=i(17),u=i(10),p=u.FileSystemLoader,d=u.WebLoader,f=u.PrecompiledLoader,h=i(19),v=i(20),m=i(1),y=i(2),g=y.handleError,k=y.Frame,w=i(21),b={type:"code",obj:{root:function(e,t,i,n,o){try{o(null,"")}catch(e){o(g(e,null,null))}}}},T=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.init=function(e,t){var i=this;t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=a.isArray(e)?e:[e]:p?this.loaders=[new p("views")]:d&&(this.loaders=[new d("/views")]),"undefined"!=typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new f(window.nunjucksPrecompiled)),this.initCache(),this.globals=v(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],a.r(c).forEach(function(e){var t=e[0],n=e[1];return i.addFilter(t,n)}),a.r(h).forEach(function(e){var t=e[0],n=e[1];return i.addTest(t,n)})},i.initCache=function(){this.loaders.forEach(function(e){e.cache={},"function"==typeof e.on&&e.on("update",function(t){e.cache[t]=null})})},i.addExtension=function(e,t){return t.__name=e,this.extensions[e]=t,this.extensionsList.push(t),this},i.removeExtension=function(e){var t=this.getExtension(e);t&&(this.extensionsList=a.without(this.extensionsList,t),delete this.extensions[e])},i.getExtension=function(e){return this.extensions[e]},i.hasExtension=function(e){return!!this.extensions[e]},i.addGlobal=function(e,t){return this.globals[e]=t,this},i.getGlobal=function(e){if(void 0===this.globals[e])throw Error("global not found: "+e);return this.globals[e]},i.addFilter=function(e,t,i){var n=t;return i&&this.asyncFilters.push(e),this.filters[e]=n,this},i.getFilter=function(e){if(!this.filters[e])throw Error("filter not found: "+e);return this.filters[e]},i.addTest=function(e,t){return this.tests[e]=t,this},i.getTest=function(e){if(!this.tests[e])throw Error("test not found: "+e);return this.tests[e]},i.resolveTemplate=function(e,t,i){return e.isRelative&&t&&e.isRelative(i)&&e.resolve?e.resolve(t,i):i},i.getTemplate=function(e,t,i,n,o){var r,s=this,l=this,c=null;if(e&&e.raw&&(e=e.raw),a.isFunction(i)&&(o=i,i=null,t=t||!1),a.isFunction(t)&&(o=t,t=!1),e instanceof S)c=e;else{if("string"!=typeof e)throw Error("template names must be a string: "+e);for(var u=0;u<this.loaders.length;u++){var p=this.loaders[u];if(c=p.cache[this.resolveTemplate(p,i,e)])break}}return c?(t&&c.compile(),o?void o(null,c):c):(a.asyncIter(this.loaders,function(t,n,o,r){function s(e,i){e?r(e):i?(i.loader=t,r(null,i)):o()}e=l.resolveTemplate(t,i,e),t.async?t.getSource(e,s):s(null,t.getSource(e))},function(i,a){if(a||i||n||(i=Error("template not found: "+e)),i){if(o)return void o(i);throw i}var l;a?(l=new S(a.src,s,a.path,t),a.noCache||(a.loader.cache[e]=l)):l=new S(b,s,"",t),o?o(null,l):r=l}),r)},i.express=function(e){return w(this,e)},i.render=function(e,t,i){a.isFunction(t)&&(i=t,t=null);var n=null;return this.getTemplate(e,function(e,r){if(e&&i)o(i,e);else{if(e)throw e;n=r.render(t,i)}}),n},i.renderString=function(e,t,i,n){return a.isFunction(i)&&(n=i,i={}),new S(e,this,(i=i||{}).path).render(t,n)},i.waterfall=function(e,t,i){return s(e,t,i)},t}(m),x=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.init=function(e,t,i){var n=this;this.env=i||new T,this.ctx=a.extend({},e),this.blocks={},this.exported=[],a.keys(t).forEach(function(e){n.addBlock(e,t[e])})},i.lookup=function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},i.setVariable=function(e,t){this.ctx[e]=t},i.getVariables=function(){return this.ctx},i.addBlock=function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},i.getBlock=function(e){if(!this.blocks[e])throw Error('unknown block "'+e+'"');return this.blocks[e][0]},i.getSuper=function(e,t,i,n,o,r){var s=a.indexOf(this.blocks[t]||[],i),l=this.blocks[t][s+1];if(-1===s||!l)throw Error('no super block available for "'+t+'"');l(e,this,n,o,r)},i.addExport=function(e){this.exported.push(e)},i.getExported=function(){var e=this,t={};return this.exported.forEach(function(i){t[i]=e.ctx[i]}),t},t}(m),S=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.init=function(e,t,i,n){if(this.env=t||new T,a.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj;break;default:throw Error("Unexpected template object type "+e.type+"; expected 'code', or 'string'")}else{if(!a.isString(e))throw Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=i,n)try{this.B()}catch(e){throw a.t(this.path,this.env.opts.dev,e)}else this.compiled=!1},i.render=function(e,t,i){var n=this;"function"==typeof e?(i=e,e={}):"function"==typeof t&&(i=t,t=null);var r=!t;try{this.compile()}catch(e){var s=a.t(this.path,this.env.opts.dev,e);if(i)return o(i,s);throw s}var l=new x(e||{},this.blocks,this.env),c=t?t.push(!0):new k;c.topLevel=!0;var u=null,p=!1;return this.rootRenderFunc(this.env,l,c,y,function(e,t){if(!p)if(e&&(e=a.t(n.path,n.env.opts.dev,e),p=!0),i)r?o(i,e,t):i(e,t);else{if(e)throw e;u=t}}),u},i.getExported=function(e,t,i){"function"==typeof e&&(i=e,e={}),"function"==typeof t&&(i=t,t=null);try{this.compile()}catch(e){if(i)return i(e);throw e}var n=t?t.push():new k;n.topLevel=!0;var o=new x(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,o,n,y,function(e){e?i(e,null):i(null,o.getExported())})},i.compile=function(){this.compiled||this.B()},i.B=function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=l.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=Function(t)()}this.blocks=this.P(e),this.rootRenderFunc=e.root,this.compiled=!0},i.P=function(e){var t={};return a.keys(e).forEach(function(i){"b_"===i.slice(0,2)&&(t[i.slice(2)]=e[i])}),t},t}(m);e.exports={Environment:T,Template:S}},function(e,t,i){"use strict";var n=i(9),o=i(3),r=i(1),s=i(0),a=function(e){function t(){return e.apply(this,arguments)||this}var i,r;r=e,(i=t).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var a=t.prototype;return a.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},a.nextToken=function(e){var t;if(this.peeked){if(e||this.peeked.type!==n.TOKEN_WHITESPACE)return t=this.peeked,this.peeked=null,t;this.peeked=null}if(t=this.tokens.nextToken(),!e)for(;t&&t.type===n.TOKEN_WHITESPACE;)t=this.tokens.nextToken();return t},a.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},a.pushToken=function(e){if(this.peeked)throw Error("pushToken: can only push one token on between reads");this.peeked=e},a.error=function(e,t,i){if(void 0===t||void 0===i){var n=this.peekToken()||{};t=n.lineno,i=n.colno}return void 0!==t&&(t+=1),void 0!==i&&(i+=1),new s.TemplateError(e,t,i)},a.fail=function(e,t,i){throw this.error(e,t,i)},a.skip=function(e){var t=this.nextToken();return!(!t||t.type!==e)||(this.pushToken(t),!1)},a.expect=function(e){var t=this.nextToken();return t.type!==e&&this.fail("expected "+e+", got "+t.type,t.lineno,t.colno),t},a.skipValue=function(e,t){var i=this.nextToken();return!(!i||i.type!==e||i.value!==t)||(this.pushToken(i),!1)},a.skipSymbol=function(e){return this.skipValue(n.TOKEN_SYMBOL,e)},a.advanceAfterBlockEnd=function(e){var t;return e||((t=this.peekToken())||this.fail("unexpected end of file"),t.type!==n.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),(t=this.nextToken())&&t.type===n.TOKEN_BLOCK_END?"-"===t.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),t},a.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===n.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(e),this.fail("expected variable end"))},a.parseFor=function(){var e,t,i=this.peekToken();if(this.skipSymbol("for")?(e=new o.For(i.lineno,i.colno),t="endfor"):this.skipSymbol("asyncEach")?(e=new o.AsyncEach(i.lineno,i.colno),t="endeach"):this.skipSymbol("asyncAll")?(e=new o.AsyncAll(i.lineno,i.colno),t="endall"):this.fail("parseFor: expected for{Async}",i.lineno,i.colno),e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===n.TOKEN_COMMA){var r=e.name;for(e.name=new o.Array(r.lineno,r.colno),e.name.addChild(r);this.skip(n.TOKEN_COMMA);){var s=this.parsePrimary();e.name.addChild(s)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',i.lineno,i.colno),e.arr=this.parseExpression(),this.advanceAfterBlockEnd(i.value),e.body=this.parseUntilBlocks(t,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),e.else_=this.parseUntilBlocks(t)),this.advanceAfterBlockEnd(),e},a.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var t=this.parsePrimary(!0),i=this.parseSignature(),n=new o.Macro(e.lineno,e.colno,t,i);return this.advanceAfterBlockEnd(e.value),n.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),n},a.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var t=this.parseSignature(!0)||new o.NodeList,i=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var n=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var r=new o.Symbol(e.lineno,e.colno,"caller"),s=new o.Caller(e.lineno,e.colno,r,t,n),a=i.args.children;return a[a.length-1]instanceof o.KeywordArgs||a.push(new o.KeywordArgs),a[a.length-1].addChild(new o.Pair(e.lineno,e.colno,r,s)),new o.Output(e.lineno,e.colno,[i])},a.parseWithContext=function(){var e=this.peekToken(),t=null;return this.skipSymbol("with")?t=!0:this.skipSymbol("without")&&(t=!1),null!==t&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno)),t},a.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var t=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var i=this.parseExpression(),n=this.parseWithContext(),r=new o.Import(e.lineno,e.colno,t,i,n);return this.advanceAfterBlockEnd(e.value),r},a.parseFrom=function(){var e=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var t=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",e.lineno,e.colno);for(var i,r=new o.NodeList;;){var s=this.peekToken();if(s.type===n.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",e.lineno,e.colno),"-"===s.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(n.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",e.lineno,e.colno);var a=this.parsePrimary();if("_"===a.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",a.lineno,a.colno),this.skipSymbol("as")){var l=this.parsePrimary();r.addChild(new o.Pair(a.lineno,a.colno,a,l))}else r.addChild(a);i=this.parseWithContext()}return new o.FromImport(e.lineno,e.colno,t,r,i)},a.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var t=new o.Block(e.lineno,e.colno);t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(t.name.value);var i=this.peekToken();return i||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(i.value),t},a.parseExtends=function(){var e=this.peekToken();this.skipSymbol("extends")||this.fail("parseTemplateRef: expected extends");var t=new o.Extends(e.lineno,e.colno);return t.template=this.parseExpression(),this.advanceAfterBlockEnd(e.value),t},a.parseInclude=function(){var e=this.peekToken();this.skipSymbol("include")||this.fail("parseInclude: expected include");var t=new o.Include(e.lineno,e.colno);return t.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(t.ignoreMissing=!0),this.advanceAfterBlockEnd(e.value),t},a.parseIf=function(){var e,t=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?e=new o.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?e=new o.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),e.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("elif","elseif","else","endif");var i=this.peekToken();switch(i&&i.value){case"elseif":case"elif":e.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),e.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":e.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return e},a.parseSet=function(){var e=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",e.lineno,e.colno);for(var t,i=new o.Set(e.lineno,e.colno,[]);(t=this.parsePrimary())&&(i.targets.push(t),this.skip(n.TOKEN_COMMA)););return this.skipValue(n.TOKEN_OPERATOR,"=")?(i.value=this.parseExpression(),this.advanceAfterBlockEnd(e.value)):this.skip(n.TOKEN_BLOCK_END)?(i.body=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endset")),i.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",e.lineno,e.colno),i},a.parseSwitch=function(){var e=this.peekToken();this.skipSymbol("switch")||this.skipSymbol("case")||this.skipSymbol("default")||this.fail('parseSwitch: expected "switch," "case" or "default"',e.lineno,e.colno);var t=this.parseExpression();this.advanceAfterBlockEnd("switch"),this.parseUntilBlocks("case","default","endswitch");var i,n=this.peekToken(),r=[];do{this.skipSymbol("case");var s=this.parseExpression();this.advanceAfterBlockEnd("switch");var a=this.parseUntilBlocks("case","default","endswitch");r.push(new o.Case(n.line,n.col,s,a)),n=this.peekToken()}while(n&&"case"===n.value);switch(n.value){case"default":this.advanceAfterBlockEnd(),i=this.parseUntilBlocks("endswitch"),this.advanceAfterBlockEnd();break;case"endswitch":this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(e.lineno,e.colno,t,r,i)},a.parseStatement=function(){var e=this.peekToken();if(e.type!==n.TOKEN_SYMBOL&&this.fail("tag name expected",e.lineno,e.colno),this.breakOnBlocks&&-1!==s.indexOf(this.breakOnBlocks,e.value))return null;switch(e.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var t=0;t<this.extensions.length;t++){var i=this.extensions[t];if(-1!==s.indexOf(i.tags||[],e.value))return i.parse(this,o,n)}this.fail("unknown block tag: "+e.value,e.lineno,e.colno)}},a.parseRaw=function(e){for(var t="end"+(e=e||"raw"),i=RegExp("([\\s\\S]*?){%\\s*("+e+"|"+t+")\\s*(?=%})%}"),n=1,r="",s=null,a=this.advanceAfterBlockEnd();(s=this.tokens.V(i))&&n>0;){var l=s[0],c=s[1],u=s[2];u===e?n+=1:u===t&&(n-=1),0===n?(r+=c,this.tokens.backN(l.length-c.length)):r+=l}return new o.Output(a.lineno,a.colno,[new o.TemplateData(a.lineno,a.colno,r)])},a.parsePostfix=function(e){for(var t,i=this.peekToken();i;){if(i.type===n.TOKEN_LEFT_PAREN)e=new o.FunCall(i.lineno,i.colno,e,this.parseSignature());else if(i.type===n.TOKEN_LEFT_BRACKET)(t=this.parseAggregate()).children.length>1&&this.fail("invalid index"),e=new o.LookupVal(i.lineno,i.colno,e,t.children[0]);else{if(i.type!==n.TOKEN_OPERATOR||"."!==i.value)break;this.nextToken();var r=this.nextToken();r.type!==n.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),t=new o.Literal(r.lineno,r.colno,r.value),e=new o.LookupVal(i.lineno,i.colno,e,t)}i=this.peekToken()}return e},a.parseExpression=function(){return this.parseInlineIf()},a.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var t=this.parseOr(),i=e;(e=new o.InlineIf(e.lineno,e.colno)).body=i,e.cond=t,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},a.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var t=this.parseAnd();e=new o.Or(e.lineno,e.colno,e,t)}return e},a.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var t=this.parseNot();e=new o.And(e.lineno,e.colno,e,t)}return e},a.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new o.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},a.parseIn=function(){for(var e=this.parseIs();;){var t=this.nextToken();if(!t)break;var i=t.type===n.TOKEN_SYMBOL&&"not"===t.value;if(i||this.pushToken(t),!this.skipSymbol("in")){i&&this.pushToken(t);break}var r=this.parseIs();e=new o.In(e.lineno,e.colno,e,r),i&&(e=new o.Not(e.lineno,e.colno,e))}return e},a.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var t=this.skipSymbol("not"),i=this.parseCompare();e=new o.Is(e.lineno,e.colno,e,i),t&&(e=new o.Not(e.lineno,e.colno,e))}return e},a.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],t=this.parseConcat(),i=[];;){var n=this.nextToken();if(!n)break;if(-1===e.indexOf(n.value)){this.pushToken(n);break}i.push(new o.CompareOperand(n.lineno,n.colno,this.parseConcat(),n.value))}return i.length?new o.Compare(i[0].lineno,i[0].colno,t,i):t},a.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(n.TOKEN_TILDE,"~");){var t=this.parseAdd();e=new o.Concat(e.lineno,e.colno,e,t)}return e},a.parseAdd=function(){for(var e=this.parseSub();this.skipValue(n.TOKEN_OPERATOR,"+");){var t=this.parseSub();e=new o.Add(e.lineno,e.colno,e,t)}return e},a.parseSub=function(){for(var e=this.parseMul();this.skipValue(n.TOKEN_OPERATOR,"-");){var t=this.parseMul();e=new o.Sub(e.lineno,e.colno,e,t)}return e},a.parseMul=function(){for(var e=this.parseDiv();this.skipValue(n.TOKEN_OPERATOR,"*");){var t=this.parseDiv();e=new o.Mul(e.lineno,e.colno,e,t)}return e},a.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(n.TOKEN_OPERATOR,"/");){var t=this.parseFloorDiv();e=new o.Div(e.lineno,e.colno,e,t)}return e},a.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(n.TOKEN_OPERATOR,"//");){var t=this.parseMod();e=new o.FloorDiv(e.lineno,e.colno,e,t)}return e},a.parseMod=function(){for(var e=this.parsePow();this.skipValue(n.TOKEN_OPERATOR,"%");){var t=this.parsePow();e=new o.Mod(e.lineno,e.colno,e,t)}return e},a.parsePow=function(){for(var e=this.parseUnary();this.skipValue(n.TOKEN_OPERATOR,"**");){var t=this.parseUnary();e=new o.Pow(e.lineno,e.colno,e,t)}return e},a.parseUnary=function(e){var t,i=this.peekToken();return t=this.skipValue(n.TOKEN_OPERATOR,"-")?new o.Neg(i.lineno,i.colno,this.parseUnary(!0)):this.skipValue(n.TOKEN_OPERATOR,"+")?new o.Pos(i.lineno,i.colno,this.parseUnary(!0)):this.parsePrimary(),e||(t=this.parseFilter(t)),t},a.parsePrimary=function(e){var t,i=this.nextToken(),r=null;if(i?i.type===n.TOKEN_STRING?t=i.value:i.type===n.TOKEN_INT?t=parseInt(i.value,10):i.type===n.TOKEN_FLOAT?t=parseFloat(i.value):i.type===n.TOKEN_BOOLEAN?"true"===i.value?t=!0:"false"===i.value?t=!1:this.fail("invalid boolean: "+i.value,i.lineno,i.colno):i.type===n.TOKEN_NONE?t=null:i.type===n.TOKEN_REGEX&&(t=RegExp(i.value.body,i.value.flags)):this.fail("expected expression, got end of file"),void 0!==t?r=new o.Literal(i.lineno,i.colno,t):i.type===n.TOKEN_SYMBOL?r=new o.Symbol(i.lineno,i.colno,i.value):(this.pushToken(i),r=this.parseAggregate()),e||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+i.value,i.lineno,i.colno)},a.parseFilterName=function(){for(var e=this.expect(n.TOKEN_SYMBOL),t=e.value;this.skipValue(n.TOKEN_OPERATOR,".");)t+="."+this.expect(n.TOKEN_SYMBOL).value;return new o.Symbol(e.lineno,e.colno,t)},a.parseFilterArgs=function(e){return this.peekToken().type===n.TOKEN_LEFT_PAREN?this.parsePostfix(e).args.children:[]},a.parseFilter=function(e){for(;this.skip(n.TOKEN_PIPE);){var t=this.parseFilterName();e=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[e].concat(this.parseFilterArgs(e))))}return e},a.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var t=this.parseFilterName(),i=this.parseFilterArgs(t);this.advanceAfterBlockEnd(e.value);var n=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var r=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[n].concat(i)));return new o.Output(t.lineno,t.colno,[r])},a.parseAggregate=function(){var e,t=this.nextToken();switch(t.type){case n.TOKEN_LEFT_PAREN:e=new o.Group(t.lineno,t.colno);break;case n.TOKEN_LEFT_BRACKET:e=new o.Array(t.lineno,t.colno);break;case n.TOKEN_LEFT_CURLY:e=new o.Dict(t.lineno,t.colno);break;default:return null}for(;;){var i=this.peekToken().type;if(i===n.TOKEN_RIGHT_PAREN||i===n.TOKEN_RIGHT_BRACKET||i===n.TOKEN_RIGHT_CURLY){this.nextToken();break}if(e.children.length>0&&(this.skip(n.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno)),e instanceof o.Dict){var r=this.parsePrimary();this.skip(n.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var s=this.parseExpression();e.addChild(new o.Pair(r.lineno,r.colno,r,s))}else{var a=this.parseExpression();e.addChild(a)}}return e},a.parseSignature=function(e,t){var i=this.peekToken();if(!t&&i.type!==n.TOKEN_LEFT_PAREN){if(e)return null;this.fail("expected arguments",i.lineno,i.colno)}i.type===n.TOKEN_LEFT_PAREN&&(i=this.nextToken());for(var r=new o.NodeList(i.lineno,i.colno),s=new o.KeywordArgs(i.lineno,i.colno),a=!1;;){if(i=this.peekToken(),!t&&i.type===n.TOKEN_RIGHT_PAREN){this.nextToken();break}if(t&&i.type===n.TOKEN_BLOCK_END)break;if(a&&!this.skip(n.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",i.lineno,i.colno);else{var l=this.parseExpression();this.skipValue(n.TOKEN_OPERATOR,"=")?s.addChild(new o.Pair(l.lineno,l.colno,l,this.parseExpression())):r.addChild(l)}a=!0}return s.children.length&&r.addChild(s),r},a.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];this.breakOnBlocks=i;var o=this.parse();return this.breakOnBlocks=e,o},a.parseNodes=function(){for(var e,t=[];e=this.nextToken();)if(e.type===n.TOKEN_DATA){var i=e.value,r=this.peekToken(),s=r&&r.value;this.dropLeadingWhitespace&&(i=i.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===n.TOKEN_BLOCK_START&&"-"===s.charAt(s.length-1)||r.type===n.TOKEN_VARIABLE_START&&"-"===s.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===n.TOKEN_COMMENT&&"-"===s.charAt(this.tokens.tags.COMMENT_START.length))&&(i=i.replace(/\s*$/,"")),t.push(new o.Output(e.lineno,e.colno,[new o.TemplateData(e.lineno,e.colno,i)]))}else if(e.type===n.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var a=this.parseStatement();if(!a)break;t.push(a)}else if(e.type===n.TOKEN_VARIABLE_START){var l=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),t.push(new o.Output(e.lineno,e.colno,[l]))}else e.type===n.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return t},a.parse=function(){return new o.NodeList(0,0,this.parseNodes())},a.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},t}(r);e.exports={parse:function(e,t,i){var o=new a(n.lex(e,i));return void 0!==t&&(o.extensions=t),o.parseAsRoot()},Parser:a}},function(e,t,i){"use strict";function n(e,t,i,n){return{type:e,value:t,lineno:i,colno:n}}var o=i(0),r="{%",s="%}",a="{{",l="}}",c="{#",u="#}",p=function(){function e(e,t){this.str=e,this.index=0,this.len=e.length,this.lineno=0,this.colno=0,this.in_code=!1;var i=(t=t||{}).tags||{};this.tags={BLOCK_START:i.blockStart||r,BLOCK_END:i.blockEnd||s,VARIABLE_START:i.variableStart||a,VARIABLE_END:i.variableEnd||l,COMMENT_START:i.commentStart||c,COMMENT_END:i.commentEnd||u},this.trimBlocks=!!t.trimBlocks,this.lstripBlocks=!!t.lstripBlocks}var t=e.prototype;return t.nextToken=function(){var e,t=this.lineno,i=this.colno;if(this.in_code){var r=this.current();if(this.isFinished())return null;if('"'===r||"'"===r)return n("string",this.D(r),t,i);if(e=this.$(" \n\t\r"))return n("whitespace",e,t,i);if((e=this.U(this.tags.BLOCK_END))||(e=this.U("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(r=this.current())?this.forward():"\r"===r&&(this.forward(),"\n"===(r=this.current())?this.forward():this.back())),n("block-end",e,t,i);if((e=this.U(this.tags.VARIABLE_END))||(e=this.U("-"+this.tags.VARIABLE_END)))return this.in_code=!1,n("variable-end",e,t,i);if("r"===r&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var s="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}s+=this.current(),this.forward()}for(var a=["g","i","m","y"],l="";!this.isFinished()&&-1!==a.indexOf(this.current());)l+=this.current(),this.forward();return n("regex",{body:s,flags:l},t,i)}if(-1!=="()[]{}%*-+~/#,:|.<>=!".indexOf(r)){this.forward();var c,u=["==","===","!=","!==","<=",">=","//","**"],p=r+this.current();switch(-1!==o.indexOf(u,p)&&(this.forward(),r=p,-1!==o.indexOf(u,p+this.current())&&(r=p+this.current(),this.forward())),r){case"(":c="left-paren";break;case")":c="right-paren";break;case"[":c="left-bracket";break;case"]":c="right-bracket";break;case"{":c="left-curly";break;case"}":c="right-curly";break;case",":c="comma";break;case":":c="colon";break;case"~":c="tilde";break;case"|":c="pipe";break;default:c="operator"}return n(c,r,t,i)}if((e=this.G(" \n\t\r()[]{}%*-+~/#,:|.<>=!")).match(/^[-+]?[0-9]+$/))return"."===this.current()?(this.forward(),n("float",e+"."+this.$("0123456789"),t,i)):n("int",e,t,i);if(e.match(/^(true|false)$/))return n("boolean",e,t,i);if("none"===e)return n("none",e,t,i);if("null"===e)return n("none",e,t,i);if(e)return n("symbol",e,t,i);throw Error("Unexpected value while parsing: "+e)}var d,f=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((e=this.U(this.tags.BLOCK_START+"-"))||(e=this.U(this.tags.BLOCK_START)))return this.in_code=!0,n("block-start",e,t,i);if((e=this.U(this.tags.VARIABLE_START+"-"))||(e=this.U(this.tags.VARIABLE_START)))return this.in_code=!0,n("variable-start",e,t,i);e="";var h=!1;for(this.W(this.tags.COMMENT_START)&&(h=!0,e=this.U(this.tags.COMMENT_START));null!==(d=this.G(f));){if(e+=d,(this.W(this.tags.BLOCK_START)||this.W(this.tags.VARIABLE_START)||this.W(this.tags.COMMENT_START))&&!h){if(this.lstripBlocks&&this.W(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=e.length){if(/^\s+$/.test(e.slice(-this.colno))&&!(e=e.slice(0,-this.colno)).length)return this.nextToken()}break}if(this.W(this.tags.COMMENT_END)){if(!h)throw Error("unexpected end of comment");e+=this.U(this.tags.COMMENT_END);break}e+=this.current(),this.forward()}if(null===d&&h)throw Error("expected end of comment, got end of file");return n(h?"comment":"data",e,t,i)},t.D=function(e){this.forward();for(var t="";!this.isFinished()&&this.current()!==e;){var i=this.current();if("\\"===i){switch(this.forward(),this.current()){case"n":t+="\n";break;case"t":t+="\t";break;case"r":t+="\r";break;default:t+=this.current()}this.forward()}else t+=i,this.forward()}return this.forward(),t},t.W=function(e){return this.index+e.length>this.len?null:this.str.slice(this.index,this.index+e.length)===e},t.U=function(e){return this.W(e)?(this.index+=e.length,e):null},t.G=function(e){return this.H(!0,e||"")},t.$=function(e){return this.H(!1,e)},t.H=function(e,t){if(this.isFinished())return null;var i=t.indexOf(this.current());if(e&&-1===i||!e&&-1!==i){var n=this.current();this.forward();for(var o=t.indexOf(this.current());(e&&-1===o||!e&&-1!==o)&&!this.isFinished();)n+=this.current(),this.forward(),o=t.indexOf(this.current());return n}return""},t.V=function(e){var t=this.currentStr().match(e);return t?(this.forwardN(t[0].length),t):null},t.isFinished=function(){return this.index>=this.len},t.forwardN=function(e){for(var t=0;t<e;t++)this.forward()},t.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},t.backN=function(e){for(var t=0;t<e;t++)this.back()},t.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var e=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===e?this.index:this.index-e}else this.colno--},t.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},t.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},t.previous=function(){return this.str.charAt(this.index-1)},e}();e.exports={lex:function(e,t){return new p(e,t)},TOKEN_STRING:"string",TOKEN_WHITESPACE:"whitespace",TOKEN_DATA:"data",TOKEN_BLOCK_START:"block-start",TOKEN_BLOCK_END:"block-end",TOKEN_VARIABLE_START:"variable-start",TOKEN_VARIABLE_END:"variable-end",TOKEN_COMMENT:"comment",TOKEN_LEFT_PAREN:"left-paren",TOKEN_RIGHT_PAREN:"right-paren",TOKEN_LEFT_BRACKET:"left-bracket",TOKEN_RIGHT_BRACKET:"right-bracket",TOKEN_LEFT_CURLY:"left-curly",TOKEN_RIGHT_CURLY:"right-curly",TOKEN_OPERATOR:"operator",TOKEN_COMMA:"comma",TOKEN_COLON:"colon",TOKEN_TILDE:"tilde",TOKEN_PIPE:"pipe",TOKEN_INT:"int",TOKEN_FLOAT:"float",TOKEN_BOOLEAN:"boolean",TOKEN_NONE:"none",TOKEN_SYMBOL:"symbol",TOKEN_SPECIAL:"special",TOKEN_REGEX:"regex"}},function(e,t,i){"use strict";var n=i(6),o=i(18).PrecompiledLoader,r=function(e){function t(t,i){var n;return(n=e.call(this)||this).baseURL=t||".",i=i||{},n.useCache=!!i.useCache,n.async=!!i.async,n}var i,n;n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var o=t.prototype;return o.resolve=function(e,t){throw Error("relative templates not support in the browser yet")},o.getSource=function(e,t){var i,n=this.useCache;return this.fetch(this.baseURL+"/"+e,function(o,r){if(o)if(t)t(o.content);else{if(404!==o.status)throw o.content;i=null}else i={src:r,path:e,noCache:!n},t&&t(null,i)}),i},o.fetch=function(e,t){if("undefined"==typeof window)throw Error("WebLoader can only by used in a browser");var i=new XMLHttpRequest,n=!0;i.onreadystatechange=function(){4===i.readyState&&n&&(n=!1,0===i.status||200===i.status?t(null,i.responseText):t({status:i.status,content:i.responseText}))},e+=(-1===e.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),i.open("GET",e,this.async),i.send()},t}(n);e.exports={WebLoader:r,PrecompiledLoader:o}},function(e,t,i){"use strict";function n(e,t){var i;return t=t||{},r.isObject(e)&&(t=e,e=null),u.FileSystemLoader?i=new u.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):u.WebLoader&&(i=new u.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),o=new a(i,t),t&&t.express&&o.express(t.express),o}var o,r=i(0),s=i(7),a=s.Environment,l=s.Template,c=i(6),u=i(10),p=i(22),d=i(5),f=i(8),h=i(9),v=i(2),m=i(3),y=i(24);e.exports={Environment:a,Template:l,Loader:c,FileSystemLoader:u.FileSystemLoader,PrecompiledLoader:u.PrecompiledLoader,WebLoader:u.WebLoader,compiler:d,parser:f,lexer:h,runtime:v,lib:r,nodes:m,installJinjaCompat:y,configure:n,reset:function(){o=void 0},compile:function(e,t,i,r){return o||n(),new l(e,t,i,r)},render:function(e,t,i){return o||n(),o.render(e,t,i)},renderString:function(e,t,i){return o||n(),o.renderString(e,t,i)},precompile:p?p.precompile:void 0,precompileString:p?p.precompileString:void 0}},function(e,t,i){"use strict";function n(e){var t;(t=s.length?s.pop():new o).task=e,r(t)}function o(){this.task=null}var r=i(13),s=[],a=[],l=r.makeRequestCallFromTimer(function(){if(a.length)throw a.shift()});e.exports=n,o.prototype.call=function(){try{this.task.call()}catch(e){n.onerror?n.onerror(e):(a.push(e),l())}finally{this.task=null,s[s.length]=this}}},function(e,t,i){"use strict";!function(t){function i(e){c.length||r(),c[c.length]=e}function n(){for(;u<c.length;){var e=u;if(u+=1,c[e].call(),u>p){for(var t=0,i=c.length-u;t<i;t++)c[t]=c[t+u];c.length-=u,u=0}}c.length=0,u=0}function o(e){return function(){function t(){clearTimeout(i),clearInterval(n),e()}var i=setTimeout(t,0),n=setInterval(t,50)}}e.exports=i;var r,s,a,l,c=[],u=0,p=1024,d=void 0!==t?t:self,f=d.MutationObserver||d.WebKitMutationObserver;"function"==typeof f?(s=1,a=new f(n),l=document.createTextNode(""),a.observe(l,{characterData:!0}),r=function(){s=-s,l.data=s}):r=o(n),i.requestFlush=r,i.makeRequestCallFromTimer=o}(i(14))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){var n;!function(i){"use strict";var o=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},r=function(e){"function"==typeof setImmediate?setImmediate(e):"undefined"!=typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)},s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=function(e,t,i){var n=i?r:o;if(t=t||function(){},!s(e))return t(Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var a=function(e){return function(i){if(i)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),r=e.next();r?o.push(a(r)):o.push(t),n(function(){e.apply(null,o)})}}};a(function(e){var t=function(i){var n=function(){return e.length&&e[i].apply(null,arguments),n.next()};return n.next=function(){return i<e.length-1?t(i+1):null},n};return t(0)}(e))()};void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){"use strict";function n(){return"hole_"+p++}function o(e,t){for(var i=null,n=0;n<e.length;n++){var o=t(e[n]);o!==e[n]&&(i||(i=e.slice()),i[n]=o)}return i||e}function r(e,t,i){if(!(e instanceof c.Node))return e;if(!i){var n=t(e);if(n&&n!==e)return n}if(e instanceof c.NodeList){var s=o(e.children,function(e){return r(e,t,i)});s!==e.children&&(e=new c[e.typename](e.lineno,e.colno,s))}else if(e instanceof c.CallExtension){var a=r(e.args,t,i),l=o(e.contentArgs,function(e){return r(e,t,i)});a===e.args&&l===e.contentArgs||(e=new c[e.typename](e.extName,e.prop,a,l))}else{var u=e.fields.map(function(t){return e[t]}),p=o(u,function(e){return r(e,t,i)});p!==u&&(e=new c[e.typename](e.lineno,e.colno),p.forEach(function(t,i){e[e.fields[i]]=t}))}return i&&t(e)||e}function s(e,t){return r(e,t,!0)}function a(e,t,i){var o=[],r=s(i?e[i]:e,function(e){var i;return e instanceof c.Block?e:((e instanceof c.Filter&&-1!==u.indexOf(t,e.name.value)||e instanceof c.CallExtensionAsync)&&(i=new c.Symbol(e.lineno,e.colno,n()),o.push(new c.FilterAsync(e.lineno,e.colno,e.name,e.args,i))),i)});return i?e[i]=r:e=r,o.length?(o.push(e),new c.NodeList(e.lineno,e.colno,o)):e}function l(e,t){return function(e){return s(e,function(e){if(e instanceof c.If||e instanceof c.For){var t=!1;if(r(e,function(e){if(e instanceof c.FilterAsync||e instanceof c.IfAsync||e instanceof c.AsyncEach||e instanceof c.AsyncAll||e instanceof c.CallExtensionAsync)return t=!0,e}),t){if(e instanceof c.If)return new c.IfAsync(e.lineno,e.colno,e.cond,e.body,e.else_);if(e instanceof c.For&&!(e instanceof c.AsyncAll))return new c.AsyncEach(e.lineno,e.colno,e.arr,e.name,e.body,e.else_)}}})}(function(e){return r(e,function(e){if(e instanceof c.Block){var t=!1,i=n();e.body=r(e.body,function(e){if(e instanceof c.FunCall&&"super"===e.name.value)return t=!0,new c.Symbol(e.lineno,e.colno,i)}),t&&e.body.children.unshift(new c.Super(0,0,e.name,new c.Symbol(0,0,i)))}})}(function(e,t){return s(e,function(e){return e instanceof c.Output?a(e,t):e instanceof c.Set?a(e,t,"value"):e instanceof c.For?a(e,t,"arr"):e instanceof c.If?a(e,t,"cond"):e instanceof c.CallExtension?a(e,t,"args"):void 0})}(e,t)))}var c=i(3),u=i(0),p=0;e.exports={transform:function(e,t){return l(e,t||[])}}},function(e,t,i){"use strict";function n(e,t){return null===e||void 0===e||!1===e?t:e}function o(e){return e!=e}function r(e){var t=(e=n(e,"")).toLowerCase();return c.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))}function s(e){if(l.isString(e))return e.split("");if(l.isObject(e))return l.r(e||{}).map(function(e){return{key:e[0],value:e[1]}});if(l.isArray(e))return e;throw new l.TemplateError("list filter: type not iterable")}function a(e){return c.copySafeness(e,e.replace(/^\s*|\s*$/g,""))}var l=i(0),c=i(2);(t=e.exports={}).abs=Math.abs,t.batch=function(e,t,i){var n,o=[],r=[];for(n=0;n<e.length;n++)n%t==0&&r.length&&(o.push(r),r=[]),r.push(e[n]);if(r.length){if(i)for(n=r.length;n<t;n++)r.push(i);o.push(r)}return o},t.capitalize=r,t.center=function(e,t){if(e=n(e,""),t=t||80,e.length>=t)return e;var i=t-e.length,o=l.repeat(" ",i/2-i%2),r=l.repeat(" ",i/2);return c.copySafeness(e,o+e+r)},t.default=function(e,t,i){return i?e||t:void 0!==e?e:t},t.dictsort=function(e,t,i){if(!l.isObject(e))throw new l.TemplateError("dictsort filter: val must be an object");var n,o=[];for(var r in e)o.push([r,e[r]]);if(void 0===i||"key"===i)n=0;else{if("value"!==i)throw new l.TemplateError("dictsort filter: You can only sort by either key or value");n=1}return o.sort(function(e,i){var o=e[n],r=i[n];return t||(l.isString(o)&&(o=o.toUpperCase()),l.isString(r)&&(r=r.toUpperCase())),o>r?1:o===r?0:-1}),o},t.dump=function(e,t){return JSON.stringify(e,null,t)},t.escape=function(e){return e instanceof c.SafeString?e:(e=null===e||void 0===e?"":e,c.markSafe(l.escape(e.toString())))},t.safe=function(e){return e instanceof c.SafeString?e:(e=null===e||void 0===e?"":e,c.markSafe(e.toString()))},t.first=function(e){return e[0]},t.groupby=function(e,t){return l.groupBy(e,t)},t.indent=function(e,t,i){if(""===(e=n(e,"")))return"";t=t||4;var o=e.split("\n"),r=l.repeat(" ",t),s=o.map(function(e,t){return 0!==t||i?""+r+e+"\n":e+"\n"}).join("");return c.copySafeness(e,s)},t.join=function(e,t,i){return t=t||"",i&&(e=l.map(e,function(e){return e[i]})),e.join(t)},t.last=function(e){return e[e.length-1]},t.length=function(e){var t=n(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!l.isObject(t)||t instanceof c.SafeString?t.length:l.keys(t).length:0},t.list=s,t.lower=function(e){return(e=n(e,"")).toLowerCase()},t.nl2br=function(e){return null===e||void 0===e?"":c.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},t.random=function(e){return e[Math.floor(Math.random()*e.length)]},t.rejectattr=function(e,t){return e.filter(function(e){return!e[t]})},t.selectattr=function(e,t){return e.filter(function(e){return!!e[t]})},t.replace=function(e,t,i,n){var o=e;if(t instanceof RegExp)return e.replace(t,i);void 0===n&&(n=-1);var r="";if("number"==typeof t)t=""+t;else if("string"!=typeof t)return e;if("number"==typeof e&&(e=""+e),"string"!=typeof e&&!(e instanceof c.SafeString))return e;if(""===t)return r=i+e.split("").join(i)+i,c.copySafeness(e,r);var s=e.indexOf(t);if(0===n||-1===s)return e;for(var a=0,l=0;s>-1&&(-1===n||l<n);)r+=e.substring(a,s)+i,a=s+t.length,l++,s=e.indexOf(t,a);return a<e.length&&(r+=e.substring(a)),c.copySafeness(o,r)},t.reverse=function(e){var t;return(t=l.isString(e)?s(e):l.map(e,function(e){return e})).reverse(),l.isString(e)?c.copySafeness(e,t.join("")):t},t.round=function(e,t,i){var n=Math.pow(10,t=t||0);return("ceil"===i?Math.ceil:"floor"===i?Math.floor:Math.round)(e*n)/n},t.slice=function(e,t,i){for(var n=Math.floor(e.length/t),o=e.length%t,r=[],s=0,a=0;a<t;a++){var l=s+a*n;a<o&&s++;var c=s+(a+1)*n,u=e.slice(l,c);i&&a>=o&&u.push(i),r.push(u)}return r},t.sum=function(e,t,i){return void 0===i&&(i=0),t&&(e=l.map(e,function(e){return e[t]})),i+e.reduce(function(e,t){return e+t},0)},t.sort=c.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(e,t,i,n){var o=l.map(e,function(e){return e});return o.sort(function(e,o){var r=n?e[n]:e,s=n?o[n]:o;return!i&&l.isString(r)&&l.isString(s)&&(r=r.toLowerCase(),s=s.toLowerCase()),r<s?t?1:-1:r>s?t?-1:1:0}),o}),t.string=function(e){return c.copySafeness(e,e)},t.striptags=function(e,t){var i=a((e=n(e,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,"")),o="";return o=t?i.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):i.replace(/\s+/gi," "),c.copySafeness(e,o)},t.title=function(e){var t=(e=n(e,"")).split(" ").map(function(e){return r(e)});return c.copySafeness(e,t.join(" "))},t.trim=a,t.truncate=function(e,t,i,o){var r=e;if(e=n(e,""),t=t||255,e.length<=t)return e;if(i)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=void 0!==o&&null!==o?o:"...",c.copySafeness(r,e)},t.upper=function(e){return(e=n(e,"")).toUpperCase()},t.urlencode=function(e){var t=encodeURIComponent;return l.isString(e)?t(e):(l.isArray(e)?e:l.r(e)).map(function(e){var i=e[0],n=e[1];return t(i)+"="+t(n)}).join("&")};var u=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,p=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,d=/^https?:\/\/.*$/,f=/^www\./,h=/\.(?:org|net|com)(?:\:|\/|$)/;t.urlize=function(e,t,i){o(t)&&(t=1/0);var n=!0===i?' rel="nofollow"':"";return e.split(/(\s+)/).filter(function(e){return e&&e.length}).map(function(e){var i=e.match(u),o=i?i[1]:e,r=o.substr(0,t);return d.test(o)?'<a href="'+o+'"'+n+">"+r+"</a>":f.test(o)?'<a href="http://'+o+'"'+n+">"+r+"</a>":p.test(o)?'<a href="mailto:'+o+'">'+o+"</a>":h.test(o)?'<a href="http://'+o+'"'+n+">"+r+"</a>":e}).join("")},t.wordcount=function(e){var t=(e=n(e,""))?e.match(/\w+/g):null;return t?t.length:null},t.float=function(e,t){var i=parseFloat(e);return o(i)?t:i},t.int=function(e,t){var i=parseInt(e,10);return o(i)?t:i},t.d=t.default,t.e=t.escape},function(e,t,i){"use strict";var n=function(e){function t(t){var i;return(i=e.call(this)||this).precompiled=t||{},i}var i,n;return n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,t.prototype.getSource=function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null},t}(i(6));e.exports={PrecompiledLoader:n}},function(e,t,i){"use strict";var n=i(2).SafeString;t.callable=function(e){return"function"==typeof e},t.defined=function(e){return void 0!==e},t.divisibleby=function(e,t){return e%t==0},t.escaped=function(e){return e instanceof n},t.equalto=function(e,t){return e===t},t.eq=t.equalto,t.sameas=t.equalto,t.even=function(e){return e%2==0},t.falsy=function(e){return!e},t.ge=function(e,t){return e>=t},t.greaterthan=function(e,t){return e>t},t.gt=t.greaterthan,t.le=function(e,t){return e<=t},t.lessthan=function(e,t){return e<t},t.lt=t.lessthan,t.lower=function(e){return e.toLowerCase()===e},t.ne=function(e,t){return e!==t},t.null=function(e){return null===e},t.number=function(e){return"number"==typeof e},t.odd=function(e){return e%2==1},t.string=function(e){return"string"==typeof e},t.truthy=function(e){return!!e},t.undefined=function(e){return void 0===e},t.upper=function(e){return e.toUpperCase()===e},t.iterable=function(e){return"undefined"!=typeof Symbol?!!e[Symbol.iterator]:Array.isArray(e)||"string"==typeof e},t.mapping=function(e){var t=null!==e&&void 0!==e&&"object"==typeof e&&!Array.isArray(e);return Set?t&&!(e instanceof Set):t}},function(e,t,i){"use strict";e.exports=function(){return{range:function(e,t,i){void 0===t?(t=e,e=0,i=1):i||(i=1);var n=[];if(i>0)for(var o=e;o<t;o+=i)n.push(o);else for(var r=e;r>t;r+=i)n.push(r);return n},cycler:function(){return e=Array.prototype.slice.call(arguments),t=-1,{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}};var e,t},joiner:function(e){return function(e){e=e||",";var t=!0;return function(){var i=t?"":e;return t=!1,i}}(e)}}}},function(e,t,i){var n=i(4);e.exports=function(e,t){function i(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=n.extname(e),!this.ext&&!this.defaultEngine)throw Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return i.prototype.render=function(t,i){e.render(this.name,t,i)},t.set("view",i),t.set("nunjucksEnv",e),e}},function(e,t,i){"use strict";function n(e,t){return!!Array.isArray(t)&&t.some(function(t){return e.match(t)})}function o(e,t){(t=t||{}).isString=!0;var i=t.env||new u([]),n=t.wrapper||p;if(!t.name)throw Error('the "name" option is required when compiling a string');return n([r(e,t.name,i)],t)}function r(e,t,i){var n,o=(i=i||new u([])).asyncFilters,r=i.extensionsList;t=t.replace(/\\/g,"/");try{n=c.compile(e,o,r,t,i.opts)}catch(e){throw l(t,!1,e)}return{name:t,template:n}}var s=i(4),a=i(4),l=i(0).t,c=i(5),u=i(7).Environment,p=i(23);e.exports={precompile:function(e,t){var i=(t=t||{}).env||new u([]),l=t.wrapper||p;if(t.isString)return o(e,t);var c=s.existsSync(e)&&s.statSync(e),d=[],f=[];if(c.isFile())d.push(r(s.readFileSync(e,"utf-8"),t.name||e,i));else if(c.isDirectory()){!function i(o){s.readdirSync(o).forEach(function(r){var l=a.join(o,r),c=l.substr(a.join(e,"/").length),u=s.statSync(l);u&&u.isDirectory()?n(c+="/",t.exclude)||i(l):n(c,t.include)&&f.push(l)})}(e);for(var h=0;h<f.length;h++){var v=f[h].replace(a.join(e,"/"),"");try{d.push(r(s.readFileSync(f[h],"utf-8"),v,i))}catch(e){if(!t.force)throw e;console.error(e)}}}return l(d,t)},precompileString:o}},function(e,t,i){"use strict";e.exports=function(e,t){var i="";t=t||{};for(var n=0;n<e.length;n++){var o=JSON.stringify(e[n].name);i+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+o+"] = (function() {\n"+e[n].template+"\n})();\n",t.asFunction&&(i+="return function(ctx, cb) { return nunjucks.render("+o+", ctx, cb); }\n"),i+="})();\n"}return i}},function(e,t,i){e.exports=function(){"use strict";function e(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i,n,o=this.runtime,r=this.lib,s=this.compiler.Compiler,a=this.parser.Parser,l=this.nodes,c=this.lexer,u=o.contextOrFrameLookup,p=o.memberLookup;if(s&&(i=s.prototype.assertType),a&&(n=a.prototype.parseAggregate),o.contextOrFrameLookup=function(e,t,i){var n=u.apply(this,arguments);if(void 0!==n)return n;switch(i){case"True":return!0;case"False":return!1;case"None":return null;default:return}},l&&s&&a){var d=l.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,i,n,o){i=i||new l.Literal(e,t,null),n=n||new l.Literal(e,t,null),o=o||new l.Literal(e,t,1),this.parent(e,t,i,n,o)}});s.prototype.assertType=function(e){e instanceof d||i.apply(this,arguments)},s.prototype.compileSlice=function(e,t){this.w("("),this.C(e.start,t),this.w("),("),this.C(e.stop,t),this.w("),("),this.C(e.step,t),this.w(")")},a.prototype.parseAggregate=function(){var t=this,i=e(this.tokens);i.colno--,i.index--;try{return n.apply(this)}catch(n){var o=e(this.tokens),s=function(){return r.h(t.tokens,o),n};r.h(this.tokens,i),this.peeked=!1;var a=this.peekToken();if(a.type!==c.TOKEN_LEFT_BRACKET)throw s();this.nextToken();for(var u=new d(a.lineno,a.colno),p=!1,f=0;f<=u.fields.length&&!this.skip(c.TOKEN_RIGHT_BRACKET);f++){if(f===u.fields.length){if(!p)break;this.fail("parseSlice: too many slice components",a.lineno,a.colno)}this.skip(c.TOKEN_COLON)?p=!0:(u[u.fields[f]]=this.parseExpression(),p=this.skip(c.TOKEN_COLON)||p)}if(!p)throw s();return new l.Array(a.lineno,a.colno,[u])}}}var f={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw Error("ValueError")},count:function(e){for(var t=0,i=0;i<this.length;i++)this[i]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},h={items:function(){return r.r(this)},values:function(){return r.u(this)},keys:function(){return r.keys(this)},get:function(e,t){var i=this[e];return void 0===i&&(i=t),i},has_key:function(e){return t(this,e)},pop:function(e,t){var i=this[e];if(void 0===i&&void 0!==t)i=t;else{if(void 0===i)throw Error("KeyError");delete this[e]}return i},popitem:function(){var e=r.keys(this);if(!e.length)throw Error("KeyError");var t=e[0],i=this[t];return delete this[t],[t,i]},setdefault:function(e,t){return void 0===t&&(t=null),e in this||(this[e]=t),this[e]},update:function(e){return r.h(this,e),null}};return h.iteritems=h.items,h.itervalues=h.values,h.iterkeys=h.keys,o.memberLookup=function(e,i,n){return 4===arguments.length?function(e,t,i,n){e=e||[],null===t&&(t=n<0?e.length-1:0),null===i?i=n<0?-1:e.length:i<0&&(i+=e.length),t<0&&(t+=e.length);for(var r=[],s=t;!(s<0||s>e.length||n>0&&s>=i||n<0&&s<=i);s+=n)r.push(o.memberLookup(e,s));return r}.apply(this,arguments):(e=e||{},r.isArray(e)&&t(f,i)?f[i].bind(e):r.isObject(e)&&t(h,i)?h[i].bind(e):p.apply(this,arguments))},function(){o.contextOrFrameLookup=u,o.memberLookup=p,s&&(s.prototype.assertType=i),a&&(a.prototype.parseAggregate=n)}}}])});